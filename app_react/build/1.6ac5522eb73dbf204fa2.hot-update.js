webpackHotUpdate(1,{

/***/ 80:
/***/ function(module, exports, __webpack_require__) {

	"use strict";
	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.logout = exports.login = exports.isLoggedIn = exports.getUser = exports.getToken = exports.setUser = exports.setToken = undefined;\n\nvar _promise = __webpack_require__(466);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _api = __webpack_require__(278);\n\nvar api = _interopRequireWildcard(_api);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar setToken = exports.setToken = function setToken(token) {\n  localStorage.setItem('token', token);\n};\n\nvar setUser = exports.setUser = function setUser(user) {\n  localStorage.setItem('user', JSON.stringify(user));\n};\n\nvar getToken = exports.getToken = function getToken() {\n  return localStorage.getItem('token');\n};\n\nvar getUser = exports.getUser = function getUser() {\n  var user = localStorage.getItem('user');\n  return JSON.parse(user);\n};\n\nvar isLoggedIn = exports.isLoggedIn = function isLoggedIn() {\n  return getToken();\n};\n\nvar login = exports.login = function login() {\n  return new _promise2.default(function (resolve, reject) {\n\n    api.get('/app/token').then(function (response) {\n      console.log('here');\n      if (response && response.data) {\n        setToken(response.data);\n        console.log('here1');\n        return api.get('/app/account');\n      } else {\n        reject('Not Logged In.');\n      }\n    }).then(function (response) {\n      console.log('here4');\n      if (response && response.data) {\n        console.log('here3');\n        setUser(response.data);\n        resolve(response.data);\n      } else {\n        reject('User detail Error.');\n      }\n    }).catch(function (error) {\n      reject(error);\n    });\n  });\n};\n\nvar logout = exports.logout = function logout() {\n  return new _promise2.default(function (resolve, reject) {\n    try {\n      localStorage.removeItem('token');\n      localStorage.removeItem('user');\n      resolve(true);\n    } catch (error) {\n      reject(error);\n    }\n  });\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYXBwX3JlYWN0L3V0aWxzL2F1dGguanM/MTMyZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHJvbWlzZSBmcm9tICdwcm9taXNlJztcbmltcG9ydCAqIGFzIGFwaSBmcm9tICcuL2FwaSc7XG5cbmV4cG9ydCBjb25zdCBzZXRUb2tlbiA9ICh0b2tlbikgPT4ge1xuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCB0b2tlbik7XG59O1xuXG5leHBvcnQgY29uc3Qgc2V0VXNlciA9ICh1c2VyKSA9PiB7XG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyJywgSlNPTi5zdHJpbmdpZnkodXNlcikpO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFRva2VuID0gKCkgPT4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7XG5cbmV4cG9ydCBjb25zdCBnZXRVc2VyID0gKCkgPT4ge1xuICBjb25zdCB1c2VyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXInKTtcbiAgcmV0dXJuIEpTT04ucGFyc2UodXNlcik7XG59O1xuXG5cbmV4cG9ydCBjb25zdCBpc0xvZ2dlZEluID0gKCkgPT4ge1xuICByZXR1cm4gZ2V0VG9rZW4oKTtcbn07XG5cbmV4cG9ydCBjb25zdCBsb2dpbiA9ICgpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBcbiAgICBhcGkuZ2V0KCcvYXBwL3Rva2VuJykudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdoZXJlJyk7XG4gICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2UuZGF0YSkge1xuICAgICAgICBzZXRUb2tlbihyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgY29uc29sZS5sb2coJ2hlcmUxJyk7XG4gICAgICAgIHJldHVybiBhcGkuZ2V0KCcvYXBwL2FjY291bnQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlamVjdCgnTm90IExvZ2dlZCBJbi4nKTtcbiAgICAgIH1cbiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ2hlcmU0Jyk7XG4gICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2UuZGF0YSkge1xuICAgICAgICBjb25zb2xlLmxvZygnaGVyZTMnKTtcbiAgICAgICAgc2V0VXNlcihyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgcmVzb2x2ZShyZXNwb25zZS5kYXRhKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlamVjdCgnVXNlciBkZXRhaWwgRXJyb3IuJyk7XG4gICAgICB9XG4gICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICByZWplY3QoZXJyb3IpO1xuICAgIH0pO1xuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBsb2dvdXQgPSAoKSA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd0b2tlbicpO1xuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXInKTtcbiAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlamVjdChlcnJvcik7XG4gICAgfVxuICB9KTtcbn07XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBhcHBfcmVhY3QvdXRpbHMvYXV0aC5qc1xuICoqLyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFEQTtBQUNBOzs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }

})